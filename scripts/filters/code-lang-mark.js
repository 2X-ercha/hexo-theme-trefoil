const cheerio = require("cheerio");
hexo.extend.filter.register('after_post_render', function (data) {
  if (!data.permalink.match(/.*(?:\.html|\/)$/)) {
    return;
  }
  let $ = cheerio.load(data.content)
  $('figure.highlight').each((...[, element]) => {
    const index = maps.aliases[$(element).attr('class')?.split(/\s+/)[1]]
    const name = maps.names[index]
    $(element).append(`<span class="language">${name}</span>`)
  })
  data.content = $.html();
}, 1000);

const maps = {
  "names": [
    "HTML, XML",
    "C++",
    "Objective C",
    "Ruby",
    "Glimmer and EmberJS",
    "RPM spec files",
    "Awk",
    "CoffeeScript",
    "Delphi",
    "Handlebars",
    "Makefile",
    "Markdown",
    "Rebol & Red",
    "Structured Text",
    "Bash",
    "Crmsh",
    "DNS Zone file",
    "DOS",
    "Excel",
    "Extempore",
    "Fortran",
    "JavaScript",
    "Jolie",
    "Lasso",
    "Mathematica",
    "Perl",
    "Plaintext",
    "PostgreSQL & PL/pgSQL",
    "PowerShell",
    "Python",
    "Razor CSHTML",
    "STEP Part 21",
    "Terraform (HCL)",
    "TypeScript",
    "X#",
    "XQuery",
    "ABAP",
    "ARM assembler",
    "ActionScript",
    "Alan IF",
    "AngelScript",
    "Apache",
    "AppleScript",
    "Arduino (C++ w/Arduino libs)",
    "AsciiDoc",
    "Brainfuck",
    "C",
    "C#",
    "CMake",
    "COBOL",
    "Cache Object Script",
    "Capâ€™n Proto",
    "Chaos",
    "Chapel",
    "Clojure",
    "Crystal",
    "Diff",
    "Django",
    "Dockerfile",
    "Dust",
    "Erlang",
    "F#",
    "G-Code",
    "GAUSS",
    "GDScript",
    "GN for Ninja",
    "Gams",
    "Go",
    "Golo",
    "HTTP",
    "Haskell",
    "Haxe",
    "Hy",
    "Inform7",
    "Ini, TOML",
    "Java",
    "Julia",
    "Kotlin",
    "LiveScript",
    "Moonscript",
    "Nginx",
    "Nim",
    "OCaml",
    "OpenSCAD",
    "PF",
    "Papyrus",
    "Pine Script",
    "Puppet",
    "Python REPL",
    "Q",
    "RVT Script",
    "ReasonML",
    "RiScript",
    "Roboconf",
    "Robot Framework",
    "Rust",
    "SAS",
    "SML",
    "Scilab",
    "Shell",
    "Smalltalk",
    "Solidity",
    "Stan",
    "Stylus",
    "Supercollider",
    "Tcl",
    "Twig",
    "VB.Net",
    "VBScript",
    "Verilog",
    "X++",
    "XL",
    "YAML",
    "ZenScript",
    "Zephir",
    "mIRC Scripting Language",
    "1C",
    "4D",
    "ABNF",
    "AVR assembler",
    "Access logs",
    "Ada",
    "Alan",
    "Apex",
    "Arcade",
    "AspectJ",
    "AutoHotkey",
    "AutoIt",
    "BBCode",
    "BNF",
    "Basic",
    "Blade (Laravel)",
    "C/AL",
    "CSP",
    "CSS",
    "Cisco CLI",
    "Coq",
    "CpcdosC+",
    "Cypher (Neo4j)",
    "D",
    "DTS (Device Tree)",
    "Dafny",
    "Dart",
    "Dylan",
    "EBNF",
    "Elixir",
    "Elm",
    "FIX",
    "Flix",
    "FunC",
    "GSQL",
    "Gherkin",
    "Gradle",
    "Grammatical Framework",
    "GraphQL",
    "Groovy",
    "Haml",
    "High-level shader language",
    "IRPF90",
    "JSON",
    "LDIF",
    "LaTeX",
    "Leaf",
    "Lean",
    "Less",
    "Lisp",
    "LiveCode Server",
    "LookML",
    "Lua",
    "MKB",
    "MLIR",
    "Macaulay2",
    "Matlab",
    "Maxima",
    "Maya Embedded Language",
    "Mercury",
    "Mizar",
    "Mojolicious",
    "Monkey",
    "N1QL",
    "NSIS",
    "Never",
    "Nix",
    "Oak",
    "Object Constraint Language",
    "OpenGL Shading Language",
    "Oracle Rules Language",
    "Oxygene",
    "PHP",
    "Parser3",
    "Pony",
    "Processing",
    "Prolog",
    "Properties",
    "Protocol Buffers",
    "Python profiler results",
    "Q#",
    "QML",
    "R",
    "RenderMan RIB",
    "RenderMan RSL",
    "SCSS",
    "SQL",
    "Scala",
    "Scheme",
    "Shape Expressions",
    "Smali",
    "Splunk SPL",
    "Stata",
    "SubUnit",
    "Svelte",
    "Swift",
    "TP",
    "Test Anything Protocol",
    "Thrift",
    "Toit",
    "Transact-SQL",
    "Unicorn Rails log",
    "VBA",
    "VHDL",
    "Vala",
    "Vim Script",
    "cURL",
    "dsconfig",
    "x86 Assembly"
  ],
  "aliases": {
    "xml": 0,
    "html": 0,
    "xhtml": 0,
    "rss": 0,
    "atom": 0,
    "xjb": 0,
    "xsd": 0,
    "xsl": 0,
    "plist": 0,
    "svg": 0,
    "cpp": 1,
    "hpp": 1,
    "cc": 1,
    "hh": 1,
    "c++": 1,
    "h++": 1,
    "cxx": 1,
    "hxx": 1,
    "objectivec": 2,
    "mm": 2,
    "objc": 2,
    "obj-c": 2,
    "obj-c++": 2,
    "objective-c++": 2,
    "ruby": 3,
    "rb": 3,
    "gemspec": 3,
    "podspec": 3,
    "thor": 3,
    "irb": 3,
    "hbs": 9,
    "glimmer": 4,
    "html.hbs": 9,
    "html.handlebars": 9,
    "htmlbars": 4,
    "rpm-specfile": 5,
    "rpm": 5,
    "spec": 5,
    "rpm-spec": 5,
    "specfile": 5,
    "awk": 6,
    "mawk": 6,
    "nawk": 6,
    "gawk": 6,
    "coffeescript": 7,
    "coffee": 7,
    "cson": 7,
    "iced": 7,
    "dpr": 8,
    "dfm": 8,
    "pas": 8,
    "pascal": 8,
    "handlebars": 9,
    "makefile": 10,
    "mk": 10,
    "mak": 10,
    "make": 10,
    "markdown": 11,
    "md": 11,
    "mkdown": 11,
    "mkd": 11,
    "redbol": 12,
    "rebol": 12,
    "red": 12,
    "red-system": 12,
    "iecst": 13,
    "scl": 13,
    "stl": 13,
    "structured-text": 13,
    "bash": 14,
    "sh": 14,
    "zsh": 14,
    "crmsh": 15,
    "crm": 15,
    "pcmk": 15,
    "dns": 16,
    "zone": 16,
    "bind": 16,
    "dos": 17,
    "bat": 17,
    "cmd": 17,
    "excel": 18,
    "xls": 18,
    "xlsx": 18,
    "extempore": 19,
    "xtlang": 19,
    "xtm": 19,
    "fortran": 20,
    "f90": 20,
    "f95": 20,
    "javascript": 21,
    "js": 21,
    "jsx": 21,
    "jolie": 22,
    "iol": 22,
    "ol": 22,
    "lasso": 23,
    "ls": 78,
    "lassoscript": 23,
    "mathematica": 24,
    "mma": 24,
    "wl": 24,
    "perl": 25,
    "pl": 25,
    "pm": 25,
    "plaintext": 26,
    "txt": 26,
    "text": 26,
    "pgsql": 27,
    "postgres": 27,
    "postgresql": 27,
    "powershell": 28,
    "ps": 28,
    "ps1": 28,
    "python": 29,
    "py": 29,
    "gyp": 29,
    "cshtml": 30,
    "razor": 30,
    "razor-cshtml": 30,
    "p21": 31,
    "step": 31,
    "stp": 31,
    "terraform": 32,
    "tf": 32,
    "hcl": 32,
    "typescript": 33,
    "ts": 33,
    "tsx": 33,
    "xsharp": 34,
    "xs": 34,
    "prg": 34,
    "xquery": 35,
    "xpath": 35,
    "xq": 35,
    "sap-abap": 36,
    "abap": 36,
    "armasm": 37,
    "arm": 37,
    "actionscript": 38,
    "as": 38,
    "alan": 39,
    "i": 39,
    "angelscript": 40,
    "asc": 40,
    "apache": 41,
    "apacheconf": 41,
    "applescript": 42,
    "osascript": 42,
    "arduino": 43,
    "ino": 43,
    "asciidoc": 44,
    "adoc": 44,
    "brainfuck": 45,
    "bf": 45,
    "c": 46,
    "h": 46,
    "csharp": 47,
    "cs": 47,
    "cmake": 48,
    "cmake.in": 48,
    "cobol": 49,
    "standard-cobol": 49,
    "cos": 50,
    "cls": 50,
    "capnproto": 51,
    "capnp": 51,
    "chaos": 52,
    "kaos": 52,
    "chapel": 53,
    "chpl": 53,
    "clojure": 54,
    "clj": 54,
    "crystal": 55,
    "cr": 55,
    "diff": 56,
    "patch": 56,
    "django": 57,
    "jinja": 57,
    "dockerfile": 58,
    "docker": 58,
    "dust": 59,
    "dst": 59,
    "erlang": 60,
    "erl": 60,
    "fsharp": 61,
    "fs": 61,
    "gcode": 62,
    "nc": 62,
    "gauss": 63,
    "gss": 63,
    "godot": 64,
    "gdscript": 64,
    "gn": 65,
    "gni": 65,
    "gams": 66,
    "gms": 66,
    "go": 67,
    "golang": 67,
    "golo": 68,
    "gololang": 68,
    "http": 69,
    "https": 69,
    "haskell": 70,
    "hs": 70,
    "haxe": 71,
    "hx": 71,
    "hy": 72,
    "hylang": 72,
    "inform7": 73,
    "i7": 73,
    "ini": 74,
    "toml": 74,
    "java": 75,
    "jsp": 75,
    "julia": 76,
    "julia-repl": 76,
    "kotlin": 77,
    "kt": 77,
    "livescript": 78,
    "moonscript": 79,
    "moon": 79,
    "nginx": 80,
    "nginxconf": 80,
    "nim": 81,
    "nimrod": 81,
    "ocaml": 82,
    "ml": 97,
    "openscad": 83,
    "scad": 83,
    "pf": 84,
    "pf.conf": 84,
    "papyrus": 85,
    "psc": 85,
    "pine": 86,
    "pinescript": 86,
    "puppet": 87,
    "pp": 87,
    "python-repl": 88,
    "pycon": 88,
    "k": 89,
    "kdb": 89,
    "rvt": 90,
    "rvt-script": 90,
    "reasonml": 91,
    "re": 91,
    "risc": 92,
    "riscript": 92,
    "graph": 93,
    "instances": 93,
    "robot": 94,
    "rf": 94,
    "rust": 95,
    "rs": 95,
    "SAS": 96,
    "sas": 96,
    "sml": 97,
    "scilab": 98,
    "sci": 98,
    "shell": 99,
    "console": 99,
    "smalltalk": 100,
    "st": 100,
    "solidity": 101,
    "sol": 101,
    "stan": 102,
    "stanfuncs": 102,
    "stylus": 103,
    "styl": 103,
    "supercollider": 104,
    "sc": 104,
    "tcl": 105,
    "tk": 105,
    "twig": 106,
    "craftcms": 106,
    "vbnet": 107,
    "vb": 107,
    "vbscript": 108,
    "vbs": 108,
    "verilog": 109,
    "v": 109,
    "axapta": 110,
    "x++": 110,
    "xl": 111,
    "tao": 111,
    "yml": 112,
    "yaml": 112,
    "zenscript": 113,
    "zs": 113,
    "zephir": 114,
    "zep": 114,
    "mirc": 115,
    "mrc": 115,
    "1c": 116,
    "4d": 117,
    "abnf": 118,
    "avrasm": 119,
    "accesslog": 120,
    "ada": 121,
    "ln": 122,
    "apex": 123,
    "arcade": 124,
    "aspectj": 125,
    "autohotkey": 126,
    "autoit": 127,
    "bbcode": 128,
    "bnf": 129,
    "basic": 130,
    "blade": 131,
    "cal": 132,
    "csp": 133,
    "css": 134,
    "cisco": 135,
    "coq": 136,
    "cpc": 137,
    "cypher": 138,
    "d": 139,
    "dts": 140,
    "dafny": 141,
    "dart": 142,
    "dylan": 143,
    "ebnf": 144,
    "elixir": 145,
    "elm": 146,
    "fix": 147,
    "flix": 148,
    "func": 149,
    "gsql": 150,
    "gherkin": 151,
    "gradle": 152,
    "gf": 153,
    "graphql": 154,
    "groovy": 155,
    "haml": 156,
    "hlsl": 157,
    "irpf90": 158,
    "json": 159,
    "ldif": 160,
    "tex": 161,
    "leaf": 162,
    "lean": 163,
    "less": 164,
    "lisp": 165,
    "livecodeserver": 166,
    "lookml": 167,
    "lua": 168,
    "mkb": 169,
    "mlir": 170,
    "macaulay2": 171,
    "matlab": 172,
    "maxima": 173,
    "mel": 174,
    "mercury": 175,
    "mizar": 176,
    "mojolicious": 177,
    "monkey": 178,
    "n1ql": 179,
    "nsis": 180,
    "never": 181,
    "nix": 182,
    "oak": 183,
    "ocl": 184,
    "glsl": 185,
    "ruleslanguage": 186,
    "oxygene": 187,
    "php": 188,
    "parser3": 189,
    "pony": 190,
    "processing": 191,
    "prolog": 192,
    "properties": 193,
    "protobuf": 194,
    "profile": 195,
    "qsharp": 196,
    "qml": 197,
    "r": 198,
    "rib": 199,
    "rsl": 200,
    "scss": 201,
    "sql": 202,
    "scala": 203,
    "scheme": 204,
    "shexc": 205,
    "smali": 206,
    "spl": 207,
    "stata": 208,
    "subunit": 209,
    "svelte": 210,
    "swift": 211,
    "tp": 212,
    "tap": 213,
    "thrift": 214,
    "toit": 215,
    "tsql": 216,
    "unicorn-rails-log": 217,
    "vba": 218,
    "vhdl": 219,
    "vala": 220,
    "vim": 221,
    "curl": 222,
    "dsconfig": 223,
    "x86asm": 224
  }
}
